<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Phần Mềm Riêng Của Bé Tuệ Minh</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<script>
  console.log('Renderer process running');
  setTimeout(() => {
    console.log('This will be debugged');
  }, 1000);
</script>
<body>

  <div class="container">
    <h1>🏢 Phần Mềm Riêng Của Bé Tuệ Minh</h1>

    <!-- Thông báo -->
    <div id="notification" class="hidden"></div>

    <!-- Thống kê -->
    <div id="statisticsBox" class="stats-box hidden">
      <div class="stats-item">Đang tải thống kê...</div>
    </div>

    <!-- File Selection & Configuration -->
    <div class="file-config-section">
      <h3>📁 Bắt đầu mình cấu hình File Excel một tí</h3>

      <!-- File Selection -->
      <div class="file-selection">
        <div class="form-group">
          <label>Bé chọn đi:</label>
          <div class="file-input-group">
            <input type="text" id="selectedFilePath" readonly placeholder="Bé chưa chọn file...">
            <button type="button" class="btn btn-primary" id="selectFileBtn">📂 Bấm đây nè bé</button>
          </div>
        </div>
      </div>

      <!-- Sheet Selection -->
      <div class="sheet-selection hidden">
        <div class="form-group">
          <label for="sheetSelect">Chọn file xong rồi giờ mình chọn Sheet:</label>
          <div class="sheet-input-group">
            <select id="sheetSelect">
              <option value="">-- Bấm vào đây để chọn Sheet nè --</option>
            </select>
            <button type="button" class="btn btn-warning" id="reloadSheetsBtn">🔄 Rì Loát</button>
          </div>
        </div>
      </div>

      <!-- Reading Configuration -->
      <div class="reading-config hidden">
        <h4>⚙️ Bé cài đặt cấu hình cho nó nha</h4>
        <div class="form-row">
          <div class="form-group">
            <label for="skipRows">Bé nhập số dòng anh cần bỏ qua (bỏ qua mấy dòng đầu không có dữ liệu á):</label>
            <input type="number" id="skipRows" value="5" min="0" max="100">
          </div>
          <div class="form-group">
            <label for="takeRows">Bé nhập số dòng anh cần lấy (để 0 là lấy hết luôn):</label>
            <input type="number" id="takeRows" value="0" min="0" placeholder="0 là đọc hết sheet">
          </div>
        </div>
        <div class="config-actions">
          <button type="button" class="btn btn-warning" id="previewDataBtn">👁️ Xem Trước</button>
          <button type="button" class="btn btn-success" id="readDataBtn">📖 Lấy Dữ Liệu</button>
          <button type="button" class="btn btn-secondary" id="resetFileBtn">🔄 Chọn File Khác</button>
        </div>
      </div>

      <!-- Preview Area -->
      <div id="dataPreview" class="data-preview hidden">
        <h4>👁️ Xem Trước Dữ Liệu</h4>
        <div id="previewContent"></div>
      </div>
    </div>

    <!-- Danh sách nhân viên -->
    <div class="table-section hidden">
      <div class="controls-section">
        <div class="table-header">
          <h3>👥 Danh Sách Nhân Viên</h3>
          <button type="button" class="btn btn-success" id="addEmployeeBtn">
            ➕ Thêm Nhân Viên
          </button>
        </div>

        <div class="search-box">
          <input type="text" id="searchInput" placeholder="Tìm kiếm nhân viên..." />
        </div>

        <div class="filter-box">
          <select id="filterDepartment">
            <option value="">Tất cả phòng ban</option>
          </select>

          <select id="filterPosition">
            <option value="">Tất cả chức vụ</option>
          </select>

          <select id="filterStatus">
            <option value="">Tất cả trạng thái</option>
          </select>

          <button type="button" class="btn btn-secondary" onclick="employeeManager.clearFilters()">
            Xóa bộ lọc
          </button>
        </div>
      </div>

      <div style="margin-bottom: 15px;">
        <span>Tổng số: <strong id="totalCount">0</strong> nhân viên</span>
      </div>

      <div id="loadingIndicator" class="loading hidden">Đang tải dữ liệu...</div>

      <div class="table-container">
        <table id="employeeTable" class="employee-table">
          <thead>
            <tr>
              <th>STT</th>
              <th>Mã NV</th>
              <th>Họ và tên</th>
              <th>Chức vụ</th>
              <th>Phòng ban</th>
            </tr>
          </thead>
          <tbody id="employeeTableBody">
            <!-- Dữ liệu sẽ được load động -->
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Employee Modal -->
  <div id="employeeModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="modalTitle">Thêm Nhân Viên Mới</h3>
        <span class="close" id="closeModal">&times;</span>
      </div>

      <div class="modal-body">
        <form id="employeeModalForm">
          <div class="form-group">
            <label for="modalId">Mã Nhân Viên:</label>
            <input type="text" id="modalId" name="id" required>
          </div>

          <div class="form-group">
            <label for="modalFullName">Họ và Tên:</label>
            <input type="text" id="modalFullName" name="fullName" required>
          </div>

          <div class="form-group">
            <label for="modalPosition">Chức Vụ:</label>
            <select id="modalPosition" name="position">
              <option value="">Chọn chức vụ</option>
              <!-- Options sẽ được load từ config -->
            </select>
          </div>

          <div class="form-group">
            <label for="modalDepartment">Phòng Ban:</label>
            <select id="modalDepartment" name="department">
              <option value="">Chọn phòng ban</option>
              <!-- Options sẽ được load từ config -->
            </select>
          </div>
        </form>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-success" id="saveEmployeeBtn">💾 Lưu</button>
        <button type="button" class="btn btn-danger" id="deleteEmployeeBtn" style="display: none;">🗑️ Xóa</button>
        <button type="button" class="btn btn-secondary" id="cancelModalBtn">❌ Hủy</button>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="js/utils.js"></script>
  <script src="js/EmployeeService.fe.js"></script>
  <script src="js/app.js"></script>
</body>

</html>